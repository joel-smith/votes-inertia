import{_ as D}from"./AuthenticatedLayout-CpvX1AGd.js";import{T as N,k as y,o as t,f as o,i as w,l as k,u as l,b as s,t as x,g as a,F as m,m as g,e as S,a as i,w as p,Z as A,d as $}from"./app-ef4mlzRE.js";import{I as P}from"./index-Bb03izD2.js";import"./ApplicationLogo-D3pz65-C.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const F=s("div",{class:"text-xl"},"Add a Poll",-1),T={key:0,class:"text-red-500 block"},U={class:"flex items-center space-x-2"},j=["onUpdate:modelValue","placeholder"],I=["onClick"],L={class:"text-red-500 block"},M=["disabled"],h=4,f=2,Y={__name:"CreatePoll",setup(d){const e=N({title:"",options:[{value:"",errors:null},{value:"",errors:null}]}),_=y(!0),n=y(!1),O=()=>{e.options.length<h&&e.options.push({value:"",errors:null}),e.options.length===h&&(_.value=!1),e.options.length>=f&&(n.value=!0)},V=v=>{e.options.length>f&&e.options.splice(v,1),e.options.length===f&&(n.value=!1),e.options.length<h&&(_.value=!0)},C=()=>{console.log("title is "+e.title),console.log("options is "+JSON.stringify(e.options)),e.post(route("polls.store"))};return(v,b)=>(t(),o("form",{onSubmit:S(C,["prevent"]),class:"border flex flex-col space-y-4 p-4 rounded"},[F,w(s("input",{"onUpdate:modelValue":b[0]||(b[0]=u=>l(e).title=u),class:"block px-2 py-1.5 bg-gray-100 rounded w-full",placeholder:"What is your question?",type:"text"},null,512),[[k,l(e).title]]),l(e).errors.title?(t(),o("small",T,x(l(e).errors.title),1)):a("",!0),(t(!0),o(m,null,g(l(e).options,(u,r)=>(t(),o("div",{key:r},[s("div",U,[w(s("input",{"onUpdate:modelValue":c=>u.value=c,class:"block px-2 py-1.5 bg-gray-100 rounded w-full",placeholder:"Option "+(r+1),type:"text"},null,8,j),[[k,u.value]]),r===l(e).options.length-1&&r<h-1?(t(),o("button",{key:0,type:"button",onClick:O,class:"px-6 py-1.5 bg-indigo-600 text-white rounded"},"+ ")):a("",!0),r>=2?(t(),o("button",{key:1,type:"button",onClick:c=>V(r),class:"px-6 py-1.5 bg-indigo-600 text-white rounded"},"- ",8,I)):a("",!0),(t(!0),o(m,null,g(l(e).errors.options,(c,B)=>(t(),o("div",{key:B},[s("small",L,x(c),1)]))),128))])]))),128)),s("button",{type:"submit",class:"px-6 py-1.5 bg-indigo-600 text-white rounded ml-2",disabled:l(e).processing}," Add Poll ",8,M)],32))}},q=s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Dashboard",-1),E={class:"py-6"},J={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},R={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},W={key:0,class:"flex justify-center items-center h-2 p-6"},Z={key:1,class:"flex justify-center items-center h-2 p-6"},z={class:"py-6"},G={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},H={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},oe={__name:"Dashboard",props:["userPolls"],setup(d){return(e,_)=>(t(),o(m,null,[i(l(A),{title:"Dashboard"}),i(D,null,{header:p(()=>[q]),default:p(()=>[s("div",E,[s("div",J,[s("div",R,[d.userPolls.length===0?(t(),o("div",W,"You have created no polls, create one below now!")):a("",!0),d.userPolls.length!==0?(t(),o("div",Z,"Your created polls")):a("",!0),(t(!0),o(m,null,g(d.userPolls,n=>(t(),o("div",{key:n.id,class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},[i(l(P),{href:e.route("polls.show",n.id),class:"p-6 text-blue-500 hover:text-blue-700"},{default:p(()=>[$(x(n.title),1)]),_:2},1032,["href"])]))),128)),i(Y)])])]),s("div",z,[s("div",G,[s("div",H,[i(l(P),{href:e.route("polls.index"),class:"p-6 text-blue-500 hover:text-blue-700"},{default:p(()=>[$("See all the polls ")]),_:1},8,["href"])])])])]),_:1})],64))}};export{oe as default};
